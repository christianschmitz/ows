## Client

Users interact with the nodes using the OWS client.

Current a client binary is only available for Linux x86-64.

### User id

The client user id is generated by hashing the user public key using Blake2b-128, and encoding the resulting hash as a Bech32 string with the `user` prefix.

### Files

On Linux, the client persists its data using the following file structure:

| Path                                              | Description                               |
| ------------------------------------------------- | ----------------------------------------- |
| `$XDG_CONFIG_HOME/ows`                            | Defaults to `~/.config/ows`               |
| `$XDG_CONFIG_HOME/ows/key`                        | Client Ed25519 private key                |
| `$XDG_CONFIG_HOME/ows/projects/<project-name>`    | Maps project names to project identifiers |
| `$XDG_CONFIG_HOME/ows/projects/default`           | Contains id of default project            |
| `$XDG_DATA_HOME/ows`                              | Defaults to `~/.local/share/ows`          |
| `$XDG_DATA_HOME/ows/projects/<project-id>`        | Project-specific data                     |
| `$XDG_DATA_HOME/ows/projects/<project-id>/ledger` | Project ledgers                           |
| `$XDG_CACHE_HOME/ows`                             | Defaults to `~/.cache/ows`                |
| `$XDG_CACHE_HOME/ows/assets/<asset-content-hash>` | Assets needed to validate project ledgers |
| `$XDG_CACHE_HOME/ows/logs/<resource-id>/<yyyy/mm/dd-hh:mm:ss>` | Cached logs                  |

### Test mode

Like the node, the client has a test mode for local unit-testing. While testing, only a local directory is used.

The client uses the following file structure during a test:

| Path                                                           | Description                               |
| -------------------------------------------------------------- | ----------------------------------------- |
| `$TEST_DIR/<user-id>/assets/<asset-content-hash>`              | Assets needed to validate project ledgers |
| `$TEST_DIR/<user-id>/key`                                      | Client Ed25519 private key                |
| `$TEST_DIR/<user-id>/logs/<resource-id>/<yyyy/mm/dd-hh:mm:ss>` | Cached logs                               |
| `$TEST_DIR/<user-id>/projects/<project-id>/ledger`             | Project ledgers                           |
